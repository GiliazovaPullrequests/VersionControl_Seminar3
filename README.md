# Инструкция по работе с GIT

## Общая информация

---

**Git** — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года.

Git применяется для управления версиями в рамках колоссального количества проектов по разработке ПО, как коммерческих, так и с открытым исходным кодом. Система используется множеством профессиональных разработчиков программного обеспечения.

---

## Начальная настройка

---
Перед началом работы нужно выполнить некоторые настройки, представиться GIT. Для этого нужно указать свое имя и электронную почту с помощью следующих команд:

__git config --global user.name "Your_Name"__ # указать имя, которым будут подписаны коммиты

__git config --global user.email "your_email@example"__  # указать электропочту, которая будет в описании коммитера

**git init** - создать репозиторий в текущей папке

**git init folder-name** - создать репозиторий в указанной папке

---

## Общие команды

---

__git status__ - посмотреть статус репозитория

__git add [file]__ - сделать указанный файл готовым к сохранению

__git add .__ - подготовить все файлы в папке для сохранения

__git commit -m "Message"__ - зафиксировать внесенные в файл изменения и добавить комментарий к этому сохранению

__git commit -am "Message"__ - зафиксировать внесенные изменения для всех файлов в папке

---

## Просмотр изменений

---

__git diff__  - сравнить рабочую директорию и индекс (неотслеживаемые файлы ИГНОРИРУЮТСЯ)

__git diff --color-words__  - сравнить рабочую директорию и индекс, показать отличия в словах

__git diff master feature__ - посмотреть что сделано в ветке feature по сравнению с веткой master

**git reset** - убрать из индекса все добавленные в него изменения

**git log** - показать коммиты в текущей ветке

**git log master** - показать коммиты в указанной ветке

**git log -2** - показать последние 2 коммита в активной ветке

**git log --graph -10** - показать последние 10 коммитов с ASCII-представлением ветвления

**git log --since=2.weeks** - показать коммиты за последние 2 недели

**git log --after '2018-06-30'** - показать коммиты, сделанные после указанной даты

**git log index.html** - показать историю изменений файла index.html (только коммиты)

**git checkout b9533** - переключиться на коммит с указанным хешем (переместить HEAD на указанный коммит, рабочую директорию вернуть к состоянию, на момент этого коммита)

**git checkout master**  - переключиться на коммит, на который указывает master, рабочую директорию вернуть к состоянию на момент этого коммита

---

## Работа с ветками

---

__git branch new_branch__ - создать новую ветку с указанным именем на текущем коммите

**git checkout name_branch** - перейти в указанную ветку

**git checkout -b new_branch** - создать новую ветку с указанным именем и перейти в неё

__git branch__ - показать список веток

__git merge hotfix__ - влить в ветку, в которой находимся, данные из ветки hotfix

__git merge hotfix -m "My commentary"__ - влить в ветку, в которой находимся, данные из ветки hotfix с указанием сообщения коммита слияния

__git branch -d hotfix__ - удалить ветку hotfix (используется, если её изменения уже влиты в главную ветку)

__git branch --merged__ - показать ветки, уже слитые с активной

__git branch --no-merged__ - показать ветки, не слитые с активной

__git branch -a__ - показать все имеющиеся ветки (в т.ч. на удаленных репозиториях)

**git branch -m old_branch_name new_branch_name** - переименовать локально ветку old_branch_name в new_branch_name

**git branch -m new_branch_name** - переименовать локально ТЕКУЩУЮ ветку в new_branch_name

---

## Работа с удаленными репозиториями

---

Есть два распространённых способа привязать удалённый репозиторий к локальному: по HTTPS и по SSH. Если SSH у вас не настроен (или вы не знаете что это), привязывайте удалённый репозиторий по HTTPS (адрес привязываемого репозитория должен начинаться с https://).

**git clone https://github.com/adress** - клонировать репозиторий в текущую директорию 

**git clone https://github.com/adress -commands.git FolderName** - клонировать удаленный репозиторий в директорию «FolderName»

**git remote -v** - показать список удалённых репозиториев, связанных с локальным

**git branch -r** - показать удаленные ветки

**git branch -a** - показать все ветки (локальные и удаленные)

**git remote add origin https://github.com/adress** - добавить удалённый репозиторий под сокращенным именем origin с указанным URL

**git remote rm origin** - удалить привязку удалённого репозитория

**git remote show origin** - получить данные об удалённом репозитории с сокращенным именем origin

**git fetch origin** - скачать все ветки с удаленного репозитория (с сокр. именем origin), но не сливать со своими ветками

**git fetch origin master** - то же, но скачивается только указанная ветка

**git push origin master** - отправить в удалённый репозиторий (с сокр. именем origin) данные своей ветки master

**git pull origin** - влить изменения с удалённого репозитория (все ветки)

**git pull origin master** - влить изменения с удалённого репозитория (только указанная ветка)

---

## Инструкция по созданию pull request

---

**Pull Request** - запрос на включение написанного вами кода в чужой репозиторий. Он позволяет вам рассказать другим о тех изменениях, которые вы разместили в своём GitHub-репозитории. Как только pull request отправлен, заинтересованные стороны рассматривают предложенные изменения, обсуждают возможные правки или даже добавляют дополняющие коммиты, если нужно.

Одной из популярных моделей для отправки pull request на платформе GitHub является модель "Fork+Pull". Эта модель позволяет любому склонировать (**fork**) существующий репозиторий и сливать изменения в свой личный *fork* без необходимости иметь доступ к оригинальному репозиторию. После изменения предлагаются автору репозитория через **pull request**, и автор принимает решение о необходимости включения этих изменений в исходный репозиторий. Эта модель популярна в работе над *open source* проектами, так как она позволяет людям работать независимо, без необходимости в едином координировании от авторов проекта. 

Для того чтобы создать **pull request**, необходимо выполнить следующие действия:
1. Открыть репозиторий open sourse проекта на чужом аккаунте и сделать ответвелие от этого проекта в свой аккаунт через команду **FORK**
2. Открыть ответвление в __*своем*__ аккаунте и склонировать его в свой локальный репозиторий с помощью команды **git clone**
3. Создать в локальном репозитории новую ветку, куда будут сохраняться все изменения с помощью команды **git branch new_branch_name** и перейти на эту ветку **git checkout new_branch_name**. Либо можно это сделать через одну команду **git checkout -b new_branch_name**
4. Внести изменения в документ и зафиксировать их с помощью *коммитов*
5. Отправить изменения на свой аккаунт в GitHub через команду **git push**.

   ВНИМАНИЕ. При отправке *git* может выдать сообщение об ошибке о том, что в вашем локальном репозитории появилася ветка, которой нет в удаленном репозитории. Тогда программа попросит вас отправить вместе с изменениями и информацию о новой ветке, и предложит вам новую команду: **git push --set-upstream origin new_branch_name** . В этом случае, просто следуйте инструкциям *git*

6. После того, как все изменения были отправлены на ваш аккаунт в GitHub, нужно предложить эти изменения автору проекта через команду **PULL REQUEST**